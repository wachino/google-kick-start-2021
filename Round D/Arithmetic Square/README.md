# Arithmetic Square

## Solution code

See [solution source code](/Round%20D/Arithmetic%20Square/solution.js)

## Analysis

You can see [solution analysis](/Round%20D/Arithmetic%20Square/analysis.md) extracted from Google webpage.

## Problem

You are given a 3×3 grid of integers. Let **G<sub>i,j</sub>** denote the integer in the `i`-th row and `j`-th column of the grid, where `i` and `j` are `0`-indexed. The integer in the middle of the grid, G<sub>1,1</sub>, is missing. Find the maximum number of rows, columns, and diagonals of this square, that form sequences which are arithmetic progressions. You can replace the missing number with any integer.

An arithmetic progression (also known as arithmetic sequence) is a sequence of numbers such that the difference between consecutive terms is constant. In mathematical terms, this can be represented as a<sub>n</sub>=a<sub>n−1</sub>+d, where `d` is the common difference. In this problem, a sequence can be the `3` numbers in either a row, column or diagonal. We are looking to replace the missing value by an integer that maximizes the number of arithmetic progressions that can be found in the resulting set of sequences.

Two sequences are considered different if they are from different rows, columns, or diagonals. For example, the sequence `{2,4,6}` across the middle row and `{2,4,6}` across the top row will be counted as two sequences but the sequences `{2,4,6}` and `{6,4,2}` across the same row, column, or diagonal will be counted as one sequence.

## Input

The first line of the input gives the number of test cases, **T**. **T** test cases follow.<br>
Each test case consists of 3 lines.<br>
The first line of each test case contains 3 integers, **G<sub>0,0</sub>**, **G<sub>0,1</sub>**, and **G<sub>0,2</sub>**.<br>
The second line of each test case contains 2 integers, **G<sub>1,0</sub>** and **G<sub>1,2</sub>**.<br>
The last line of each test case contains 3 integers, **G<sub>2,0</sub>**, **G<sub>2,1</sub>**, and **G<sub>2,2</sub>**.

## Output

For each test case, output one line containing `Case #x: y`, where `x` is the test case number (starting from 1) and `y` is the maximum possible number of arithmetic progressions that can be generated by the rows, columns, and diagonals of the grid after setting the missing element.

## Limits

Memory limit: 1 GB.<br>
1 ≤ **T** ≤ 100.<br>
**G<sub>i,j</sub>** are integers, for all `i`,`j`.

### Test set 1

Time limit: 20 seconds.<br>
|**G<sub>i,j</sub>**| ≤ 50, for all `i`,`j`.

### Test set 2

Time limit: 40 seconds.<br>
|**G<sub>i,j</sub>**| ≤ 10<sup>9,</sup> for all `i`,`j`.

## Sample

| Input  | Output     |
| ------ | ---------- |
| 3      |            |
| 3 4 11 | Case #1: 4 |
| 10 9   |            |
| -1 6 7 |            |
| 4 1 6  | Case #2: 3 |
| 3 5    |            |
| 2 5 6  |            |
| 9 9 9  | Case #3: 8 |
| 9 9    |            |
| 9 9 9  |            |

In Sample Case #1, if we set the missing number to be 5, we have exactly 4 arithmetic progressions.

- top left diagonal: [3,5,7]
- top right diagonal: [−1,5,11]
- middle column: [4,5,6]
- right column: [11,9,7]

If we set the missing number to any other integer, there would be only 1 progression. Thus, the answer is 4.

In Sample Case #2, if we set the missing number to be 4, we have exactly 3 arithmetic progressions.

- top right diagonal: [6,4,2]
- middle row: [3,4,5]
- left column: [4,3,2]

Setting the missing number to any other integer results in fewer progressions, so we output 3.

In Sample Case #3, if we set the missing number to be 9, we have all possible arithmetic progressions. There are 8 total progressions (each one is [9,9,9]), so we output 8.
